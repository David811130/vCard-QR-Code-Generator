<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title> ☄ Bravo 1 vCard Generator ☄</title>


  <!-- Bootstrap Core -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">





  <!-- Favicons -->

  <meta name="theme-color" content="#7952b3">
  <!-- <link rel="stylesheet" href="style.css"> -->


  <style>
    .bd-placeholder-img {
      font-size: 1.125rem;
      text-anchor: middle;
      -webkit-user-select: none;
      -moz-user-select: none;
      user-select: none;
    }

    @media (min-width: 768px) {
      .bd-placeholder-img-lg {
        font-size: 3.5rem;
      }
    }
    body {
      color: #E8F0F2;
      }

    div {
      margin: auto;
    }
    #bottomDiv{
      margin-bottom: 50px;
    }
  </style>


  <!-- Custom styles for this template -->
  <!-- <link href="form-validation.css" rel="stylesheet"> -->
</head>

<body class="bg-secondary">
  <div class="py-5 text-center">

          <h2>vCard-QR-Code-Generator</h2>
    <p class="lead">Complete Form Below:</p>

  </div>
  <div class="row g-5">




  </div>
  <div class="col-md-7 col-lg-8">
    <h4 class="mb-3">Contact Info</h4>
    <form class="needs-validation" novalidate="">
      <div class="row g-3">
        <div class="col-sm-6">
          <label for="firstName" class="form-label">First name</label>
          <input type="text" class="form-control" id="firstName" placeholder="" value="" required="">
          <div class="invalid-feedback">
            Valid first name is required.
          </div>
        </div>

        <div class="col-sm-6">
          <label for="lastName" class="form-label">Last name</label>
          <input type="text" class="form-control" id="lastName" placeholder="" value="" required="">
          <div class="invalid-feedback">
            Valid last name is required.
          </div>
        </div>

        <div class="col-sm-6">
          <label for="orgName" class="form-label">Company Name</label>
          <input type="text" class="form-control" id="orgName" placeholder="" value="" required="">
          <div class="invalid-feedback">
            A valid company name is required.
          </div>
        </div>
        <div class="col-sm-6">
          <label for="orgName" class="form-label">Job Title</label>
          <input type="text" class="form-control" id="jobTitle" placeholder="" value="" required="">
          <div class="invalid-feedback">
            A valid job-title is required
          </div>
        </div>

        <div class="row g-3">
          <div class="col-sm-6">
            <label for="firstName" class="form-label">Office Number</label>
            <input type="text" class="form-control" id="officeNum" placeholder="" value="" required="">
            <div class="invalid-feedback">
              Valid first name is required.
            </div>
          </div>

          <div class="col-sm-6">
            <label for="lastName" class="form-label">Mobile Number</label>
            <input type="text" class="form-control" id="mobileNum" placeholder="" value="" required="">
            <div class="invalid-feedback">
              Valid last name is required.
            </div>
          </div>

          <div class="col-sm-6">
            <label for="email" class="form-label">Email <span class="text-muted">(Optional)</span></label>
            <input type="email" class="form-control" id="email" placeholder="you@example.com">
            <div class="invalid-feedback">
              Please enter a valid email address.
            </div>
          </div>

          <div class="col-sm-6">
            <label for="lastName" class="form-label">Website</label>
            <input type="text" class="form-control" id="webUrl" placeholder="http://www.website.com" value="" required="">
            <div class="invalid-feedback">
              A valid website URL is required
            </div>
          </div>


          <div class="col-12">
            <label for="address" class="form-label">Address</label>
            <input type="text" class="form-control" id="address" placeholder="Unit 1, Business Park Name, 1234 Main St" required="">
            <div class="invalid-feedback">
              Please enter a business address.
            </div>
          </div>

          <div class="col-12">
            <label for="address2" class="form-label">Address 2 <span class="text-muted">(Optional)</span></label>
            <input type="text" class="form-control" id="address2" placeholder="Suburb">
          </div>

          <div class="col-12">
            <label for="address2" class="form-label">City <span class="text-muted">(Optional)</span></label>
            <input type="text" class="form-control" id="city" placeholder="">
          </div>

          <div class="col-md-5">
            <label for="country" class="form-label">Country</label>
            <select class="form-select" id="country" required="">
              <option value="">Choose...</option>
              <option>South Africa</option>
            </select>
            <div class="invalid-feedback">
              Please select a valid country.
            </div>
          </div>

          <div class="col-md-4">
            <label for="state" class="form-label">Province</label>
            <select class="form-select" id="province" required="">
              <option value="">Choose...</option>
              <option>Eastern Cape</option>
              <option>Free State</option>
              <option>Gauteng</option>
              <option>KwaZulu-Natal</option>
              <option>Limpopo</option>
              <option>Mpumalanga</option>
              <option>Northern Cape</option>
              <option>North West</option>
			  <option>Western Cape</option>
            </select>
            <div class="invalid-feedback">
              Please provide a valid state.
            </div>
          </div>

          <div class="col-md-3">
            <label for="zip" class="form-label">Post Code</label>
            <input type="text" class="form-control" id="pcode" placeholder="" required="">
            <div class="invalid-feedback">
              Post code required.
            </div>
          </div>
        </div>

        <div class="row g-3" id="bottomDiv">
          <div class="col-sm-12">
            <button class="w-100 btn btn-primary btn-lg" onClick="getQR()">Generate QR Code</button>
          </div>


      </div>




    </form>
  </div>



  <script charset="utf-8">
  function getQR(){
    var fName = document.getElementById('firstName').value;
    var lName = document.getElementById('lastName').value;
    var orgName = document.getElementById('orgName').value;
    var jobTitle = document.getElementById('jobTitle').value;
    var officeNum = document.getElementById('officeNum').value;
    var mobileNum = document.getElementById('mobileNum').value;
    var email = document.getElementById('email').value;
    var webURL = document.getElementById('webUrl').value;
    var addressLine1 = document.getElementById('address').value;
    var addressLine2 = document.getElementById('address2').value;
    var city = document.getElementById('city').value;
    var province = document.getElementById('province').value;
    var country = document.getElementById('country').value;
    var pCode = document.getElementById('pcode').value;
    var dStamp = Date.now()


    var uri = 'BEGIN:VCARD \
    VERSION:3.0 \
    N:' + lName + ';' + fName + ';;;' + '\n' + 'FN:' + fName + ' ' + lName + '\n' + 'ORG:' + orgName + ';' + '\n' + 'TITLE:' + jobTitle + '\n' + 'TEL;type=CELL:' + mobileNum + '\n' + 'TEL;type=WORK:' + officeNum + '\n' + 'EMAIL;type=INTERNET;type=WORK;type=pref:' + email + '\n' + 'URL:' + webUrl + '\n' + 'ADR;TYPE=work:;;' + addressLine1 + ';' + addressLine2 + ';' + city + ';' + province + ';' + country + ';' + pCode + '\n' + 'REV:' + dStamp +'\n'+ 'END:VCARD';
    var res = encodeURIComponent(uri);
    console.log(res);
    var googleChartApi = 'http://chart.apis.google.com/chart?chs=200x200&cht=qr&chld=|0&chl=' + res;
    window.open(googleChartApi);
    console.log(googleChartApi);

  }
  </script>
</body>

</html>
